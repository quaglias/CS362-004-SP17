        -:    0:Source:randomtestcard1.c
        -:    0:Graph:randomtestcard1.gcno
        -:    0:Data:randomtestcard1.gcda
        -:    0:Runs:2
        -:    0:Programs:1
        -:    1:#include "dominion.h"
        -:    2:#include "dominion_helpers.h"
        -:    3:#include "rngs.h"
        -:    4:#include <assert.h>
        -:    5:#include <stdlib.h>
        -:    6:#include <stdio.h>
        -:    7:#include <math.h>
        -:    8:#include <time.h>
        -:    9:
        -:   10:#define MAX_TESTS 100
        -:   11:
        2:   12:int main()
        -:   13:{
        2:   14:    printf (":::: ADVENTURER RANDOM TESTER START ::::\n");
        -:   15:
        -:   16:	struct gameState G;
        -:   17:  	int players1;
        -:   18:  	int players2;
        -:   19:  	int random_seed;
        2:   20:  	int pre_handCount = 0;
        2:   21:  	int post_handCount = 0;
        2:   22:  	int card = 0;
        2:   23:  	int i = 0;
        2:   24:  	int j = 0;
        2:   25:  	int k[10] = {adventurer, gardens, embargo, village, minion, mine, cutpurse, smithy, sea_hag, tribute};
        -:   26:
      202:   27:    for(i = 0; i < MAX_TESTS; i++)
        -:   28:    {
        -:   29:        //Initialize variables
      200:   30:        players1 = rand() % 4;
      200:   31:        players2 = rand() % 4;
      200:   32:        random_seed = rand();
        -:   33:
      200:   34:        initializeGame(players1, k, random_seed, &G);
        -:   35:
        -:   36:        //Initialize game state information
      200:   37:        G.deckCount[players2] = rand() % MAX_DECK;
      200:   38:        G.discardCount[players2] =  rand() % MAX_DECK;
      200:   39:        G.handCount[players2] =  rand() % MAX_HAND;
        -:   40:
      200:   41:        G.hand[players2][0] = adventurer;
        -:   42:
    52140:   43:        for(j = 1; j < G.handCount[players2]; j++)
        -:   44:        {
    51940:   45:            card = rand() % treasure_map;
    51940:   46:            if(G.supplyCount[card] > -1)
        -:   47:            {
    34156:   48:                G.hand[players2][j] = card;
        -:   49:            }
        -:   50:        }
        -:   51:
    46754:   52:        for(j = 0; j < G.deckCount[players2]; j++)
        -:   53:        {
    46554:   54:            card = rand() % treasure_map;
    46554:   55:            if(G.supplyCount[card] > -1)
        -:   56:            {
    30186:   57:                G.deck[players2][j] = card;
        -:   58:            }
        -:   59:        }
        -:   60:
      200:   61:        pre_handCount = G.handCount[players2];
        -:   62:
        -:   63:
      200:   64:        playCard(0,0,0,0, &G);  //Call adventurer
        -:   65:
      200:   66:        post_handCount = G.handCount[players2];
        -:   67:
      200:   68:        printf ("handCount prior: %d\n", pre_handCount);
      200:   69:        printf ("handCount after: %d\n", post_handCount);
        -:   70:
      200:   71:        if(pre_handCount == post_handCount)
        -:   72:        {
      158:   73:            printf("handCount prior and handCount post are equal, test passed.\n");
        -:   74:        }
        -:   75:        else
        -:   76:        {
       42:   77:            printf("handCount prior and handCount post are not equal, test failed.\n");
        -:   78:        }
        -:   79:
        -:   80:
        -:   81:
        -:   82:    }
        2:   83:    printf (":::: ADVENTURER RANDOM TESTER END ::::\n");
        2:   84:	return 0;
        -:   85:}
